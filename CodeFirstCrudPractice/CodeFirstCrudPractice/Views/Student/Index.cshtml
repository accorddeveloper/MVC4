
@{
    ViewBag.Title = "Index";
}
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>

<hr />

<div id="personDetails" class="jumbotron">

    <center><h2 style="color:darkgreen">Person Information</h2></center>

    @using (Ajax.BeginForm(new AjaxOptions()
    {
        Url = "/api/PersonAPI",
        HttpMethod = "Post",
        LoadingElementId = "loadingDiv",
        OnSuccess = "SuccessConfirm",

    }))
    {
        <h4>Name:</h4>
        <input class="form-control input-sm" id="txtName" type="text" name="name" />
        <h4>Address:</h4>
        <input class="form-control input-sm" id="txtAddress" type="text" name="address" /><br />

        <input type="submit" id="btn" class="btn btn-success" value="Create & Get" />

    }

</div>


<div id="loadingDiv" style="display:none">
    <img src="~/Images/PleaseWait.gif" />
    Loading.........
</div>
<div id="resultDiv" class="container">
    <table id="tblperson" class="table table-bordered">
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Address</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script>

    function SuccessConfirm() {
        //var target = $('#tblperson tbody');
        //target.empty();

        //if (PList.length > 0) {
        //    $.each(PList, function (key, value) {
        //        $('<tr><td>' + value.Id+ '</td><td>' + value.Name+'</td><td>' + value.Address+'</td></tr>').appendTo(target);
        //    })
        //}
        alert('Saved');

    }

</script>

